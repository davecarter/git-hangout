<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">
		<link rel="stylesheet" href="css/custom.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
			<div class="slides">

				<section>
					<section>
						<h1>Git en terminal</h1>
						<h3>Guía de supervivencia</h3>
						<p>
							<small>por <a href="http://davecarter.me">David García</a> / <a href="http://twitter.com/d4vecarter">@d4vecarter</a></small>
						</p>
					</section>

					<section>
						<h3>Sobre el autor</h3>
						<img src="https://pbs.twimg.com/profile_images/430835350114942976/7hRSb8rv_400x400.jpeg" alt="" width="200">
						<ul>
							<li>Frontend developer en Schibsted Spain.</li>
							<li>Profesor de la asignatura Programación Frontend en el <a href="http://www.baued.es/es/estudios/masters-y-posgrados/master-en-diseno-web">Master de Diseño Web de Bau</a>.</li>
						</ul>
						<small>Twitter - <a href="http://twitter.com/d4vecarter">@d4vecarter</a></small><br />
						<small>GitHub - <a href="https://github.com/davecarter">davecarter</a></small><br />
						<small>LinkedIn - <a href="https://www.linkedin.com/in/davidgarciaontivero">David García</a></small>
					</section>
				</section>

				<section>
				    <section>
				        <img src="./img/git-logo.png" alt="" width="150">
				        <h2>Software de <br />Control de versiones</h2>
				    </section>
				    
				    <section>
				        <h3>¿Qué es Git?</h3>
				        <h4>Git es un Software de control de versiones <span class="marker">distribuido</span> y <span class="marker">descentralizado</span> que permite a un equipo de desarrolladores trabajar sobre el mismo código.</h4>
				    </section>
				    
				    <section>
				        <h3>Control de versiones <span class="marker">distribuido</span></h3>
				        <p>Se denomina "distribuido" porque cada miembro del equipo dispone de <span class="marker">una copia completa del código</span>.</p>
				        
				        <img src="./img/distributed.png" alt="" width="300">
				    </section>

				    <section>
				        <h3>Control de versiones <span class="marker">descentralizado</span></h3>
				        <p>Los miembros del equipo pueden enviarse código, recibirlo y desarrollar funcionalidades de forma conjunta y <span class="marker">separada del servidor central</span>.</p>
				        <img src="img/git-centr-decentr.png" alt="" width="500">
				    </section>   
				        
				    <section>
				    		<img src="img/git-ok.png" alt="" width="100">
				        <h3>Vetajas de usar Git</h3>
				        <ul>
				            <li>Versionado distribuido de código</li>
				            <li>Código colaborativo</li>
				            <li>Recuperación de archivos</li>
				            <li>Estándar actual</li>
				        </ul>
				    </section>

				    <section>
				    <img src="img/git-super.png" alt="">
				        <h3>Git en Terminal</h3>
				        <ul>
				            <li>Mayor control</li>
				            <li>Shorcuts / Plugins</li>
				            <li>Mejora tu productividad</li>
				            <li style="color: grey"><strike>Ligarás más</strike></li>
				        </ul>
				    </section>
				</section>

				<section>
				    <section>
				        <img src="./img/git-logo.png" alt="" width="150">
				        <h2>Instalación</h2>
				    </section>

				    <section>
				    	<img src="img/git-commandline.png" alt="" width="100">
				    	<h3>Command Line Tools</h3>
				    	<pre><code data-trim contenteditable>
$ xcode-select --install
				    	</code></pre>
				    	<small>Es probable que necesitemos descargar las Command Line Tools for Xcode</small>
				    </section>
				    
				    <section>
				        <h3>Descarga Git</h3>
				        <h4 class="marker">Selecciona la versión adecuada a tu Sistema Operativo:</h4>
				        <p>Git está disponible para Windows, Mac, Linux y Solaris.</p>
				        <a href="http://git-scm.com/downloads" target="_blank"><img src="./img/download-folder.png" alt="" width="150"></a>
				    </section>
				    
				    <section>
				    	<img src="img/git-settings.png" alt="" width="100">
				    	<h3>Configuración</h3>
				    	<p>Indicamos a Git nuestra info de usuario</p>
				    	<pre><code>
$ git config --global user.name "David G."
$ git config --global user.email dave74@gmail.com
$ git config --global core.editor nano

				    	</code></pre>
				    </section>

				    <section>
				        <h3>Git <span class="marker">init</span></h3>
				        <h4 class="marker">Creamos un repositorio local</h4>
				        <p>En un directorio vacío ejecutamos el siguiente comando:</p>
				        <pre><code data-trim contenteditable>
$ > mkdir git-hangout
$ > cd git-hangout
$ > git init

				        </code></pre>
				    </section>

				    <section>
				    	<h3>Directorio <span class="marker">Git</span></h3>
				    	<p>Git init crea un directorio oculto <span class="marker">.git</span> con el siguiente contenido:</p>
				    	<ul>
				    		<li><span class="marker">COMMIT_EDITMSG:</span> Comentarios de mensajes de commit</li>
				    		<li><span class="marker">HEAD:</span> Puntero hacia la rama activa</li>
				    		<li><span class="marker">config:</span> URLs de origin e info de ramas</li>
				    		<li><span class="marker">hooks:</span> Git hooks para CI o Linting</li>
				    		<li>...</li>
				    	</ul>
				    	<p></p>
				    	<p></p>
				    	<small>Programas con GUI tipo <a href="https://www.sourcetreeapp.com/">Sourcetree</a> pueden omitir algunos archivos dentro de este directorio.</small>
				    </section>

				    <section>
				        <h3>Crear un nuevo archivo:</h3>
				        <p class="marker">Git llevará un control exhaustivo sobre todos los cambios que vayamos haciendo.</p>
				        <pre><code data-trim contenteditable>

$ touch README.md

				        </code></pre>
				        <small>El comando UNIX <span class="marker">touch</span> nos crea un nuevo archivo. <br />Edítalo y guarda los cambios.</small>
				    </section>

				    <section>
				        <h3>.gitignore</h3>
				        <p class="marker">Incluimos TODO lo que NO queramos incluir en nuestro repositorio.</p>
				        <pre><code data-trim contenteditable>

$ touch .gitignore

				        </code></pre>
				        <small>Podemos crear uno ad-hoc en: <a href="https://www.gitignore.io/">gitignore.io</a></small>
				    </section>

				    <section>
				        <h3>Git <span class="marker">Status</span>:</h3>
				        <p class="marker">Listado de archivos nuevos (untracked), borrados o editados</p>
				        <pre><code data-trim contenteditable>

$ git status

				        </code></pre>
				        <p><img src="img/git-status.png" alt="" width="800"></p>
				        <small>Rutas relativas a la raíz del repositorio.</small>
				    </section>
				</section>

				<section>
					<section>
			        <img src="img/git-logo.png" alt="" width="150">
			        <h2>Flujo de trabajo con Git</h2>
			    </section>

			    <section>
			    	<img src="img/git-laptop.png" alt="" width="300"> 
			    	<h3>Local & Remote</h3>
			    	<p>El flujo de Git se distribuye en 3 estados locales y uno remoto</p>
			    </section>
			    
			    <section>
			        <h3>Estados <span class="marker">Locales</span></h3>
			        <h4 class="marker" style="text-align: center; text-transform: none; font-size: 1.2em">A nivel local disponemos de:</h4><br />
			        <ul>
			            <li><span class="marker">Working Dir</span> > El directorio donde almacenamos los archivos</li>
			            <li><span class="marker">Staging</span> > El estado en el que avisamos a Git de que hemos realizado cambios</li>
			            <li><span class="marker">HEAD</span> > El puntero hacia el último bloque de código <code style="font-size: .8em">(commit)</code></li>
			        </ul>
			    </section>

			    <section>
			        <h3>Working dir</h3>
			        <p>El primer nivel es nuestra <span class="marker">carpeta de trabajo</span>. Podemos añadir, quitar, editar archivos y Git sólo se encargará de controlar los archivos que han sido modificados:</p>

			        <img src="img/git-level-wd.png" alt="">
			    </section>
			    
			    <section>
			        <h3>Git <span class="marker">add</span></h3>
			        <p>Una vez creados, modificados, añadidos o borrados los archivos al <span class="marker">working dir</span> los pasamos al <span>staging</span> mediante:</p>
			        <pre><code data-trim contenteditable>

$ git add nombre de archivo/os
			        </code></pre>
			        <p> o bien:</p>
			        <pre><code data-trim contenteditable>
$ git add --all
			        </code></pre>
							<p> todos los archivos</p>
			    </section>

			    <section>
			        <h3>Staging</h3>
			        <p>En el segundo nivel nuestros archivos están preparados para ser <span class="marker">empaquetados</span>. Podemos seguir trabajando y repetir el proceso tantas veces como necesitemos.</p>

			        <img src="img/git-level-staging.png" alt="">
			    </section>

			    <section>
			        <h3>Git <span class="marker">commit</span></h3>
			        <p>Cuando hemos completado un conjunto de cambios, los "empaquetamos" mediante la instrucción <span>commit</span> y los colocamos en el <span class="marker">HEAD</span> mediante:</p>
			        <pre><code data-trim contenteditable>
$ git commit -m 'mensaje descriptivo'
			        </code></pre>
			    </section>

			    <section>
			        <h3>HEAD</h3>
			        <p>Nuestro conjunto de cambios está listo para enviar al repositorio remoto. El HEAD es nuestra "bandeja de salida". Podemos seguir trabajando y crear más "commits".</p>

			        <img src="img/git-level-head.png" alt="">
			    </section>

			    <section data-background="#20325F">
			    		<img src="img/github-octocat.png" alt="">
			        <h3>ORIGIN remoto</h3>
			        <p>Ahora vincularemos nuestro repo local con uno remoto en <span>Github</span> para poder trabajar en equipo:</p>

			        <a href="http://github.com" target="_blank">Créate una cuenta en Github.com</a>
			    </section>

			    <section>
			        <h3>Git <span class="marker">remote add origin</span></h3>
			        <p>Una vez creado el repositorio remoto en Github lo "vinculamos" a nuestro repositorio local mediante:</p>
			        <pre><code data-trim contenteditable>
$ git remote add origin https://github.com/user/repo.git
			        </code></pre>
			    </section>

			    <section>
			        <h3>Git <span class="marker">push</span></h3>
			        <p>Una vez indicado a Git que tenemos un repositorio remoto podemos enviar el conjunto de cambios contenidos en nuestro HEAD mediante:</p>
			        <pre><code data-trim contenteditable>
$ git push -u origin master
			        </code></pre>
			    </section>

			    <section>
			        <h3>Origin</h3>
			        <p>Por defecto Git denomina <span class="marker">origin</span> a nuestro repositorio remoto y crea una rama llamada <span class="marker">master</span>. Enviamos el contenido de HEAD mediante:</p>

			        <img src="img/git-level-origin.png" alt="">
			    </section>

			    <section>
			        <h3>Git <span class="marker">pull</span></h3>
			        <p>Sincronizar nuestro local con origin</p>
			        <p>Antes de enviar nuestros cambios tenemos que bajarnos la última versión de <span class="marker">repositorio remoto</span></p>
			        <pre><code data-trim contenteditable>
$ git pull origin master
			        </code></pre>
			        <small>obtenemos los últimos cambios de origin y los combinamos con la rama master</small>
			    </section>

			    <section>
			        <h3>Sincronizando versiones</h3>
			        <p>Cuando obtenemos archivos del repositorio remoto a nuestra copia local Git obtiene todos los archivos nuevos que se hayan añadido y elimina los que se hayan quitado.</p>

			        <img src="img/git-level-pull.png" alt="">
			    </section>

			    <section>
			    		<img src="img/git-log.png" alt="" width="100">
			        <h3>Git <span class="marker">log</span></h3>
			        <p>Consulta el historial de "commits" realizados por los diferentes miembros del equipo mediante:</p>
			        <pre><code data-trim contenteditable>
$ git log
			        </code></pre>
			    </section>
				</section>

				<section>
					<section data-background="#20325F">
			      <img src="img/github-octocat.png" alt="" width="150">
			      <h2>Inicializando repositorios remotos</h2>
			    </section>

			    <section data-background="#20325F">
			      <img src="img/github-octocat.png" alt="" width="150">
			    	<h3>Github</h3>
			    	<img src="img/github-create-repo.png" width="600" alt="">
			    	<br />
			    	<a href="http://github.com" target="_blank">crea una cuenta en Github</a>
			    </section>

					<section data-background="#20325F">
			        <h3>Git <span class="marker">clone</span> mediante HTTPS</h3>
			        <p>Creamos una copia de un repositorio remoto existente</p>
			        <pre><code data-trim contenteditable>
$ git clone https://github.com/user/repo.git
			        </code></pre>
			    </section>

			    <section data-background="#20325F">
			    	<h3>URL's Git sobre HTTPS</h3>
			    	<ul>
			    		<li>Facilita el acceso a través de firewalls</li>
			    		<li>No necesita configuración previa</li>
			    		<li>Has de proporcionar tu login/pass para acceder a <span class="marker">origin</span></li>
			    	</ul>
			    </section>

			    <section data-background="#20325F">
			    	<h3>HTTPS + credential-osxkeychain</h3>
			    	<p>Almacena user/pass en texto plano</p>
			    	<pre><code data-trim contenteditable>
$ git config --global credential.helper osxkeychain // Mac OSX
$ git config --global credential.helper wincred // Windows
			        </code></pre>
			        <small>Más info en <a href="https://help.github.com/articles/caching-your-github-password-in-git/">Git Help</a></small>
			    </section>

			    <section data-background="#20325F">
			    	<h3>URL's Git sobre Secure Shell (SSH)</h3>
			    	<ul>
			    		<li>Basado en clave pública/privada</li>
							<li>Requiere de instalación de clave pública en <span class="marker">origin</span></li>
			    	</ul>
			    	<p></p>
			    	<p></p>
			    	<small>En la sección <span class="marker">/Settings/SSH Keys</span> de tu cuenta de Github</small>
			    </section>

			    <section data-background="#20325F">
			    	<h3>Generando Claves SSH</h3>
			    	<pre><code data-trim contenteditable>
$ ssh-keygen -t rsa -b 4096 -C "dave74@gmail.com"
			        </code></pre>
			        <small>Puedes añadir una <span class="marker">clave de seguridad</span> o dejarla en blanco.</small>
			    </section>

			    <section data-background="#20325F">
			    	<h3>Añadir clave SSH a <span class="marker">ssh-agent</span></h3>
			    	<pre><code data-trim contenteditable>
$ ssh-add ~/.ssh/id_rsa
			        </code></pre>
			        <small>Puedes añadir una <span class="marker">clave de seguridad</span> o dejarla en blanco.</small>
			    </section>

			    <section data-background="#20325F">
			    	<h3>Copiar clave SSH al <span class="marker">portapapeles</span></h3>
			    	<pre><code data-trim contenteditable>
$ pbcopy < ~/.ssh/id_rsa.pub
			        </code></pre>
			        <small>Podemos abrirla con <span class="marker">Sublime Text</span> y copiar el contenido.</small>
			    </section>

					<section data-background="img/git-https-ssh.jpg">
							<h3 style="color:black">HTTPS o SSH</h3>
					</section>

				</section>

				<section>
					<section>
			        <img src="img/git-branch.png" alt="" width="100">
			        <h2>Ramas en Git</h2>
			        <small>$ git branch</small>
			    </section>

			    <section>
			    		<h3>Git <span class="marker">branch</span></h3>
			    		<p>Una rama nos permite aislar una nueva funcionalidad en nuestro código que después podremos añadir a la versión principal.</p>
			    		<p><span class="marker">Para crear una nueva rama:</span></p>
			        <pre><code data-trim contenteditable>
$ git branch feature/sliderhome
			        </code></pre>
			    </section>

			    <section>
			    		<img src="img/git-merge.png" alt="" width="100">
			        <h3>Git <span class="marker">merge</span></h3>
			        <p>Git procura combinar los cambios automáticamente*.</p>
			        <p>Si no reconoce qué parte del código ha de quedarse y cual eliminar, hemos de editarlo manualmente.</p>
			        <small>*Recursive strategy</small>
			    </section>

			    <section>
			    		<img src="img/git-merge-conflict.png" alt="" width="100">
			    		<h3>Git merge conflict</h3>
			    		<p>Cuando Git no puede identificar qué cambios ha de mantener y cual eliminar lanzará el siguiente mensaje:</p>
			    		<pre style="font-size: .8em"><code data-trim contenteditable>
$ git merge iss53
Auto-merging index.html
CONFLICT (content): Merge conflict in index.html
Automatic merge failed; fix conflicts and then commit the result.
			    		</code></pre>
			    </section>

			    <section>
			    		<h3>Fixing Merge conflict</h3>
			    		<pre><code data-trim contenteditable>

Código sin conflicto

<<<<<<< HEAD
I love cats!
=======
Dogs are better
>>>>>>> Master (o SHA del commit)

Código sin conflicto

			    		</code></pre>
			    </section>

			    <section>
			    		<h3>Fixing Merge conflict</h3>
			    		<img src="img/git-merge-schema.png" alt="">
			    </section>
				</section>

				<section>
					<section data-background="#20325F">
						<img src="img/git-fork.png" alt="">
						<h3>Pull Request</h3>
						<img src="img/github-octocat.png" width="100" alt="">
						<p>Github.com</p>
					</section>

					<section data-background="#20325F">
						<h3>Objetivo</h3>
						<p>Aportar una mejora al software existente</p>
						<p>Contribuir en un proyecto <span class="marker">Open Source</span></p>
					</section>

					<section data-background="#20325F">
						<h3>PR como colaborador</h3>
						<p>Sólo disponible si tenemos permisos de escritura</p>
							<ul>
								<li>Clonamos el repo</li>
								<li>Creamos rama <span class="marker">feature</span></li>
								<li>Añadimos cambios a esa rama</li>
								<li>La publicamos a <span class="marker">origin</span></li>
								<li>Solicitamos la <span class="marker">Pull Request</span></li>
							</ul>
					</section>

					<section data-background="#20325F">
						<h3>PR como contribuidor</h3>
						<p><strong>No</strong> tenemos permisos de escritura</p>
						<ul>
							<li>Hacemos un <span class="marker">fork</span> del proyecto</li>
							<li>Creamos una rama con nuestra propuesta</li>
							<li>Solicitamos una <span class="marker">Pull Request</span>...</li>
							<li>El owner del proyecto puede <span style="color: #5F5">aceptarla</span> o <span style="color: #F55">denegarla</span></li>
						</ul>
						<img style="display:block; margin: 30px auto 0" class="fragment" src="img/github-pullrequest.jpg" width="200" alt="">
					</section>

					<section data-background="#20325F">
						<img src="img/git-fork.png" alt="">
						<h3>Ejemplo práctico de PR</h3>
						<a href="https://github.com/davecarter/git-hangout">Repo Git Hangout</a>
					</section>

				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'none', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
